
## kali&#46;update&#46;sh
>**You are here: [░▒▓ pentesting-cookbook ▓▒░](../README.md)  &rarr;  [run.kali.x86_64.sh](run.kali.md)   &rarr;  [kali.update.sh](kali.update.md)**


## Update and upgrade Kali to the latest version / patch
```bash
apt-get -y -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confold" update
apt-get -y -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confold" upgrade
```

**Explanation of the flags used**

These options are used in combination with the previously run: `export DEBIAN_FRONTEND=noninteractive` in [run.kali.x86_64.sh](run.kali.md) which instructs the debian configuration to proceed without interaction from the user.

During package installation or upgrade, a package may cause other packages to be upgraded. If this involves upgrading a configuration file that has also been changed locally then dpkg will normally prompt the user as to how to proceed: keep the existing copy, overwrite it with the new copy, or resolve the conflict manually.

The safest course of action is to keep the existing configuration file if it has local changes, but otherwise allow the upgrade. This can be achieved using a combination of two dpkg options:

    --force-confdef (upgrade the configuration file if there are no local changes), and
    --force-confold (otherwise, preserve the existing configuration file).
