#!/bin/bash

if [[ -z $1 ]]; then
    echo "Usage: $0 domains.txt"
    exit 1
fi

filter='has no|not found'

for domain in $(cat $1); do
    host -t a $domain | grep -v -E "$filter" | sed 's/ has address /;/'
    host -t aaaa $domain | grep -v -E "$filter" | sed 's/ has IPv6 address /;/'
done